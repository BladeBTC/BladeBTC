#!/usr/bin/env php
<?php
require __DIR__ . '/vendor/autoload.php';

$dotenv = new Dotenv\Dotenv(__DIR__, '.env');
$dotenv->load();

date_default_timezone_set('America/Montreal');

use BladeBTC\GUI\Commands\Mail\CreateMailGroup;
use BladeBTC\GUI\Commands\Mail\ListMailGroup;
use BladeBTC\GUI\Commands\Mail\UserAddMailGroup;
use BladeBTC\GUI\Commands\Mail\UserDelMailGroup;
use BladeBTC\GUI\Commands\Database\Dump;
use BladeBTC\GUI\Commands\Database\Import;
use BladeBTC\GUI\Commands\Groups\ListGroup;
use BladeBTC\GUI\Commands\Models\CreateModel;
use BladeBTC\GUI\Commands\Modules\CreateModule;
use BladeBTC\GUI\Commands\Modules\RegisterModules;
use BladeBTC\GUI\Commands\Rbac\AssignmentRbac;
use BladeBTC\GUI\Commands\Rbac\AssignRbac;
use BladeBTC\GUI\Commands\Rbac\CreateRbac;
use BladeBTC\GUI\Commands\Rbac\DeassignRbac;
use BladeBTC\GUI\Commands\Rbac\ListRbac;
use Symfony\Component\Console\Application;

/** @var $application - New application */
$application = new Application("CMS - Console", "1.0.0");

/** Module */
$application->add(new CreateModule());
$application->add(new RegisterModules());

/** Model */
$application->add(new CreateModel());

/** RBAC */
$application->add(new CreateRbac());
$application->add(new ListRbac());
$application->add(new AssignRbac());
$application->add(new DeassignRbac());
$application->add(new AssignmentRbac());

/** GROUP */
$application->add(new ListGroup());

/** DATABASE */
$application->add(new Dump());
$application->add(new Import());

/** MAIL */
$application->add(new CreateMailGroup());
$application->add(new ListMailGroup());
$application->add(new UserAddMailGroup());
$application->add(new UserDelMailGroup());

/** Run application */
$application->run();